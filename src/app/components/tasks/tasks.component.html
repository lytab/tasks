<div class="row mx-4 my-2">
  <div class="col-md-6">
    <h3>List of Tasks</h3>
  </div>
  <div class="col-md-6">
    <button (click)="resetTask()" class="btn btn-dark btn-sm float-right">
      <i class="fa fa-plus" aria-hidden="true"></i> New Task
    </button>
  </div>
</div>
<div *ngIf="showForm" class=" my-4">
  <div  class="col-md-6 mx-auto">
    <div class="form-group">
      <label for="label">Label</label>
      <input type="text" [(ngModel)]="myTask.label" class="form-control" name="label" id="label" placeholder="Task">
    </div>
    <div class="form-check my-2">
      <label class="form-check-label">
        <input [(ngModel)]="myTask.completed" type="checkbox" class="form-check-input">
        completed
      </label>
    </div>

  <button *ngIf="!editForm"  (click)="persistTask()" class="btn btn-success btn-block"><i class="fa fa-send" aria-hidden="true"></i> New
    Task</button>


  <button *ngIf="editForm"  (click)="updateTask()" class="btn btn-warning btn-block"><i class="fa fa-refresh" aria-hidden="true"></i> Update
    Task</button>
  </div>
</div>
<div class="row">
  <div class="col-md-6 mx-auto">
<input [(ngModel)]="search" (keyup)="getTasks()" type="text" class="form-control" placeholder="Search...">
    <table class="table">
      <thead>
        <tr>
          <th>#</th>
          <th>Task</th>
          <th>Completed</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>

        <tr *ngFor="let task of tasks">
          <td>{{task.id}}</td>
          <td>{{task.label}}</td>
          <td (click)="toggleCompleted(task)">
            <span [ngClass]="{'badge':true, 'badge-success':task.completed,'badge-danger':!task.completed}">
              <i [ngClass]="{'fa':true, 'fa-thumbs-up':task.completed,'fa-thumbs-down':!task.completed}"
                aria-hidden="true"></i>
            </span>
          </td>
          <td>
            <button (click)="editTask(task)" class="btn btn-sm btn-info mx-1">
              <i class="fa fa-edit" aria-hidden="true"></i>
            </button>
            <button (click)="deleteTask(task.id)" class="btn btn-sm btn-dark">
              <i class="fa fa-trash" aria-hidden="true"></i>
            </button>
          </td>

        </tr>
      </tbody>
    </table>
  </div>
</div>
<h1></h1>
